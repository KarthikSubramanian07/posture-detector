import { spawn } from "child_process";

function sendPostureStatus(status) {
  return new Promise((resolve, reject) => {
    const py = spawn("python", ["data_handler.py"]);
    py.stdin.write(JSON.stringify({ posture_status: status }));
    py.stdin.end();

    let data = "";
    py.stdout.on("data", chunk => (data += chunk));
    py.on("close", () => resolve(JSON.parse(data)));
  });
}

// Example usage
await sendPostureStatus("correct");
await sendPostureStatus("incorrect");
